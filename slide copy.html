<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            border: none;
        }

        li {
            list-style: none;
        }

        /* 로그인 */

        .login {
            position: fixed;
            top: 40px;
            right: 50px;
            z-index: 99;
        }

        .login .loginBtn {
            cursor: pointer;
            font-size: 15px;
            width: 100px;
            height: 35px;
            border-radius: 18px;
            padding-left: 25px;
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            font-weight: 600;
        }

        .login .loginBtn>img {
            position: absolute;
            cursor: pointer;
            width: 35px;
            height: 35px;
            top: 0;
            left: 0;
            padding: 3px;
            font-size: 15px;
            border-radius: 25px;
            background-color: white;
            color: white;
        }


        /* 섹션 */

        #wrap .section {
            width: 100vw;
            height: 100vh;
            background-position: right center;
            background-size: cover;
            position: relative;
            overflow: hidden;
        }

        #wrap #sect1 {
            background-image: url(./img/Rectangle\ 3.png)
        }

        #wrap #sect2 {
            background-image: url(./img/Rectangle\ 3.png)
        }


        #wrap .whiteBg {
            width: 100vw;
            height: 100vh;
            background-color: rgba(255, 255, 255, .4);
            position: absolute;
        }

        #wrap #innerWrap {
            position: absolute;
            top: 50%;
            left: 18%;
            transform: translateY(-50%);
        }



        #wrap .title {
            position: absolute;
            width: 350px;
            display: inline-block;
            text-align: center;
            margin-left: 60px;
            top: 50%;
            transform: translateY(-50%);
            text-align: center;
        }

        #wrap .title p {
            font-size: 60px;
            font-weight: 900;
            color: white;
            text-shadow: 3px 3px 3px rgba(0, 0, 0, .2);
        }

        #wrap .title .clickPlz {
            padding: 15px;
            margin: 30px 10px 0px 10px;
            border-radius: 40px;
            cursor: pointer;
            background-color: white;
            font-size: 18px;
            font-weight: 900;
            box-shadow: 3px 3px 5px rgba(0, 0, 0, .2);
        }

        #wrap #innerWrap .slide {
            display: inline-block;
            width: 450px;
            height: 540px;
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 5px 5px 20px 5px rgba(0, 0, 0, .2);
        }

        #wrap #innerWrap .slide .container {
            position: absolute;
        }

        #wrap #innerWrap .slide .container .innerSlide img {
            float: left;
        }

        #wrap #innerWrap .slide .btnG {
            top: 92%;
            left: 50%;
            height: 40px;
            transform: translateX(-50%);
            position: absolute;
        }

        #wrap #innerWrap .slide .btnG .btn {
            cursor: pointer;
            border: none;
            padding: 5px;
            margin: 5px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, .4);
        }


        #wrap #innerWrap .slide .btnG .btn.on {
            background-color: rgba(255, 255, 255, .9);
        }

        #wrap #innerWrap .slide .btnG .moveBtn {
            cursor: pointer;
            font-size: 20px;
            text-shadow: 2px 2px 2px rgb(51, 51, 51);
            width: 40px;
            color: white;
            border: none;
            background-color: rgba(255, 255, 255, 0);
        }
    </style>
</head>


<body style="margin:0">

    <div class="login">
        <button class="loginBtn" type="button">
            <p class="logText">로그인</p>
            <img class="user" src="./img/user.png" alt="">
        </button>
    </div>
    <div id="wrap">
        <section id="sect1" class="section">
            <div class="whiteBg"></div>
            <div id="innerWrap">
                <div class="slide">
                    <div class="container container1">
                        <div class="innerSlide innerSlide1"><img src="./img/seoul1.png" alt=""></div>
                        <div class="innerSlide innerSlide1"><img src="./img/busan1.png" alt=""></div>
                        <div class="innerSlide innerSlide1"><img src="./img/seoul1.png" alt=""></div>
                        <div class="innerSlide innerSlide1"><img src="./img/busan1.png" alt=""></div>
                    </div>
                    <div class="btnG">
                        <button class="moveBtn" id="pre" type="button" onclick="pre()">pre</button>
                        <button class="moveBtn" id="next" type="button" onclick="next()">next</button>
                    </div>
                </div>
                <div class="title">
                    <p>서울 Seoul</p>
                    <li class="clickPlz">이미지를 클릭하세요</li>
                </div>
            </div>
        </section>
        <section id="sect2" class="section">
            <div class="whiteBg"></div>
            <div id="innerWrap">
                <div class="slide">
                    <div class="container container2">
                        <div class="innerSlide innerSlide2"><img src="./img/seoul1.png" alt=""></div>
                        <div class="innerSlide innerSlide2"><img src="./img/busan1.png" alt=""></div>
                        <div class="innerSlide innerSlide2"><img src="./img/seoul1.png" alt=""></div>
                        <div class="innerSlide innerSlide2"><img src="./img/busan1.png" alt=""></div>
                    </div>
                    <div class="btnG">
                        <button class="moveBtn" id="pre2" type="button" onclick="pre2()">pre</button>
                        <button class="moveBtn" id="next2" type="button" onclick="next2()">next</button>
                    </div>
                </div>
                <div class="title">
                    <p>부산 Busan</p>
                    <li class="clickPlz">이미지를 클릭하세요</li>
                </div>
            </div>
        </section>
    </div>




    <script>

        // 슬라이드 시작
        let slideAdd = '' // 버튼 속성 담는 그릇
        let btnArr = [] // 2. 버튼 갯수를 받을 배열
        let btnCount = 4 // 1. 버튼 갯수 설정

        // container길이 설정
        document.querySelector('.container').style.width = `${(btnCount + 2) * 620}px`

        // 버튼 갯수 배열에 넣는 공식
        for (let i = 0; i < btnCount; i++) {
            let Num = [i]
            btnArr.push(Num) // 하나씩 준비된 btnNum배열 변수에 넣는다.
        }

        // btnNum배열에 있는 값을 slideAdd에 차례로 넣는다.
        btnArr.map((value) => {
            slideAdd +=
                `<button class="btn btn${value}" value="${value}" type="button" onclick="btn()"></button>`
        })

        $('#pre').after(slideAdd)
        $('#pre2').after(slideAdd)

        //클론 후 슬라이드 앞 뒤에 붙이기
        let container = document.querySelector('.container')
        let allSlide = document.querySelectorAll('.innerSlide')
        let cloneFirst = allSlide[0].cloneNode(true); // 요소 복사
        let cloneLast = allSlide[allSlide.length - 1].cloneNode(true);
        container.insertBefore(cloneLast, allSlide[0]);
        container.appendChild(cloneFirst);

        // 선택된 버튼에 색상을 입히기 위한 변수 준비
        let pageBtn = document.querySelectorAll('.btn')

        // 클릭한 버튼의 value가져와 translate적용
        let btnValue = 0

        let reactWidth = document.querySelector('.container').clientWidth
        let reactLength = reactWidth / (btnCount + 2)

        function btn() {
            container.style.transition = `all .5s`;
            let btnNum = event.target.value
            document.querySelector('.container').style.transform = `translate(-${btnNum * reactLength}px)`
            btnValue = btnNum
            pageBtn.forEach((i) => i.classList.remove('on'))
            pageBtn[btnNum].classList.add('on')
        }

        let a = 0
        document.querySelector('.btn').classList.add('on')

        // 슬라이드 시작 위치
        document.querySelector('.container').style.left = `-${reactLength}px`

        // 우클릭버튼
        function next() { // 클릭한 버튼의 value가져오기
            if (reactLength * btnValue < reactLength * (btnCount)) {
                btnValue++
                container.style.transition = `all .5s`;
                document.querySelector('.container').style.transform = `translate(-${reactLength * btnValue}px)`
                if (reactLength * btnValue < reactLength * (btnCount)) {
                    pageBtn.forEach((i) => i.classList.remove('on'))
                    pageBtn[btnValue].classList.add('on')
                } else {
                    pageBtn[btnCount - 1].classList.remove('on')
                    pageBtn[0].classList.add('on')
                }
            }
            //무한슬라이드
            if (reactLength * btnValue == reactLength * (btnCount)) {
                btnValue = btnCount
                setTimeout(() => {
                    container.style.transition = `0s`;
                    container.style.transform = `translateX(0px)`;
                }, 500);
                container.style.transition = `all .5s`;
                btnValue = 0
            }
        }


        // 좌클릭버튼
        function pre() { // 클릭한 버튼의 value가져오기
            if (reactLength * a > -1) {
                btnValue--
                container.style.transition = `all .5s`;
                document.querySelector('.container').style.transform = `translate(-${reactLength * btnValue}px)`
                if (reactLength * btnValue > -1) {
                    pageBtn.forEach((i) => i.classList.remove('on'))
                    pageBtn[btnValue].classList.add('on')
                    console.log('length:' + reactLength * btnValue)
                } else {
                    pageBtn[0].classList.remove('on')
                    pageBtn[btnCount - 1].classList.add('on')
                }
            }
            // 무한슬라이드
            if (reactLength * btnValue == -reactLength) {
                container.style.transform = `translateX(${reactLength}px)`;
                setTimeout(() => {
                    container.style.transition = `0s`;
                    container.style.transform = `translateX(-${reactLength * (btnCount - 1)}px)`;
                    console.log('asdf')
                }, 500);
                container.style.transition = `all .5s`;
                btnValue = btnCount - 1
            }
        }

        // 자동실행
        function start() {
            if (reactLength * btnValue < reactLength * (btnCount)) {
                btnValue++
                container.style.transition = `all .5s`;
                document.querySelector('.container').style.transform = `translate(-${reactLength * btnValue}px)`
                if (reactLength * btnValue < reactLength * (btnCount)) {
                    pageBtn.forEach((i) => i.classList.remove('on'))
                    pageBtn[btnValue].classList.add('on')
                } else {
                    pageBtn[btnCount - 1].classList.remove('on')
                    pageBtn[0].classList.add('on')
                }
            }

            //무한슬라이드
            if (reactLength * btnValue == reactLength * (btnCount)) {
                btnValue = btnCount
                setTimeout(() => {
                    container.style.transition = `0s`;
                    container.style.transform = `translateX(0px)`;
                }, 500);
                container.style.transition = `all .5s`;
                btnValue = 0
            }
        }

        setInterval(start, 3000)

        // 슬라이드 끝

        // 로그인버튼

        let login = document.querySelector('.login')
        let user = document.querySelector('.user')
        let loginBtn = document.querySelector('.loginBtn')
        let logText = document.querySelector('.logText')

        login.addEventListener('mouseover', function (event) {
            user.style.transform = 'translate(65px)'
            user.style.transition = 'all .3s'
            loginBtn.style.background = 'rgb(88, 67, 206)'
            loginBtn.style.paddingLeft = '0px'
            loginBtn.style.paddingRight = '25px'
            // loginBtn.style.color = 'rgb(88, 67, 206)'
            loginBtn.style.transition = 'all .3s'
        })
        login.addEventListener('mouseleave', function (event) {
            user.style.transform = 'translate(0px)'
            user.style.transition = 'all .3s'
            loginBtn.style.background = 'rgba(0, 0, 0, 0.4)'
            loginBtn.style.paddingLeft = '25px'
            loginBtn.style.paddingRight = '0px'
            loginBtn.style.transition = 'all .3s'
            // loginBtn.style.color = 'white'
        })

        
        // 섹션 스크롤
        let contain = document.querySelector('.container').clientHeight
        let wrapH = document.querySelector('#wrap').clientHeight
        let containH = wrapH/contain
        window.addEventListener('scroll', function () {
            if(window.scrollY > 200){
            }
            // window.scrollTo(0, 100)
            // window.scrollBy(0, 100) 
        });




    </script>
</body>

</html>